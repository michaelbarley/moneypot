import{u as v,o as u,e as d,b as h,h as o,a as t,m as y,D as s,g as n,v as i,C as p,A as f,K as x,t as _,f as w,F as C,I as k}from"./app.5c792e26.js";import{T as V}from"./TopBanner.6ae00047.js";import{_ as I}from"./FlowerProgressVue.b89436a7.js";import"./moment.9709ab41.js";import"./ResponsiveNavLink.cb3437b6.js";import"./_plugin-vue_export-helper.cdc0426e.js";const S=t("div",{class:"flex flex-wrap justify-center pt-4 bg-no-repeat bg-cover bg-banner"},[t("div",{class:"relative flex items-center justify-center h-42 w-72"})],-1),q={class:"grid grid-cols-2 gap-12 px-8 pt-4 pb-8 my-14 sm:grid-cols-2"},U={class:"w-full max-w-96"},B=["onSubmit"],P=t("br",null,null,-1),j=t("br",null,null,-1),A=t("br",null,null,-1),M=t("br",null,null,-1),N=t("br",null,null,-1),D=t("br",null,null,-1),E={class:"col-span-1"},T=["src"],z=t("br",null,null,-1),F=t("br",null,null,-1),G=t("br",null,null,-1),W=t("br",null,null,-1),O=t("br",null,null,-1),Y=t("br",null,null,-1),K=k('<option selected>Choose a accent colour</option><option value="pink">Pink</option><option value="aqua">Aqua</option><option value="blue">Blue</option><option value="yellow">Yellow</option><option value="red">Red</option>',6),R=[K],$={class:"my-6 md:flex md:items-center"},H={class:"m-auto"},J={class:"relative w-[20rem] h-[20rem] top-[-5rem] bg-white border-4 border-moneyPot z-2 rounded-full"},L={class:"text-center m-auto absolute w-full top-[45%]"},Q={class:"text-[1.4em] font-bold mb-20"},X={class:"flex flex-wrap justify-center bg-no-repeat bg-cover bg-banner"},Z={class:"relative flex items-center justify-center h-0 w-72"},tt={class:"absolute w-full m-auto text-center",style:{"z-index":"-1"}},ot=t("br",null,null,-1),et={class:"text-[1.2em] font-bold mb-10"},lt=t("br",null,null,-1),st=t("br",null,null,-1),nt=t("br",null,null,-1),at={key:0,class:"my-10"},rt={class:"ml-15"},ct=["href"],it=t("img",{class:"float-left w-[1.5rem]",src:"/images/gear-solid.svg"},null,-1),ut=["href"],dt=t("img",{class:"float-left w-[1.5rem]",src:"/images/gear-solid.svg"},null,-1),pt={key:0},_t=["href"],mt=t("img",{class:"float-left w-[1.5rem]",src:"/images/gear-solid.svg"},null,-1),bt={key:1},ht=["href"],ft=t("img",{class:"float-left w-[1.5rem]",src:"/images/gear-solid.svg"},null,-1),gt=["href"],vt=t("img",{class:"float-left w-[1.5rem]",src:"/images/gear-solid.svg"},null,-1),It={__name:"Edit",props:{user:{type:Object,required:!1},pot:{type:Object,required:!1},base_url:{type:String,required:!1},userCanCloseAndWithdraw:{type:Boolean,required:!1}},setup(c){const e=c,a=v({name:e.pot.name,description:e.pot.description,goal:e.pot.goal,is_auto_closing:e.pot.is_auto_closing==1,cover_photo_path:null,is_private:e.pot.is_private==1,accent_colour:e.pot.accent_colour,user_id:e.user.id}),g=()=>{a.put(route("update pot",{pot:e.pot.id}),{})};let m=(b,l)=>Math.floor(b/l*100);return(b,l)=>(u(),d(C,null,[h(V,{showImages:!1,customImageUrl:o(e).base_url+"/"+o(e).pot.cover_photo_path,borderColour:"#DE85BB"},null,8,["customImageUrl"]),S,t("div",q,[t("div",U,[t("form",{onSubmit:y(g,["prevent"]),class:"mx-2",type:"multipart/form-data w-3/4 m-auto"},[t("label",{class:"text-[1.4em] text-[#715192] font-bold mb-20",style:s({color:o(e).pot.accent_colour})}," Pot Name ",4),n(),P,i(t("input",{"onUpdate:modelValue":l[0]||(l[0]=r=>o(a).name=r),type:"text",class:"w-full px-3 py-2 border-none rounded bg-slate-100 bg-formInputGray",placeholder:"Choose a name for your pot.",name:"name",required:""},null,512),[[p,o(a).name]]),t("label",{class:"text-[1.4em] text-[#715192] font-bold mb-20",style:s({color:o(e).pot.accent_colour})}," Pot description ",4),n(),j,i(t("input",{"onUpdate:modelValue":l[1]||(l[1]=r=>o(a).description=r),type:"text",class:"w-full px-3 py-2 border-none rounded bg-slate-100 bg-formInputGray",placeholder:"Describe what your pot is for.",name:"description",required:""},null,512),[[p,o(a).description]]),t("label",{class:"text-[1.4em] text-[#715192] font-bold mb-20",style:s({color:o(e).pot.accent_colour})}," Pot goal ",4),n(),A,i(t("input",{"onUpdate:modelValue":l[2]||(l[2]=r=>o(a).goal=r),type:"number",class:"w-full px-3 py-2 border-none rounded bg-slate-100 bg-formInputGray",min:"0",max:"1000000",required:"",placeholder:"Set a goal for your pot.",name:"goal"},null,512),[[p,o(a).goal]]),t("label",{class:"text-[1.4em] text-[#715192] font-bold mb-20",style:s({color:o(e).pot.accent_colour})}," Auto Close Pot?",4),M,i(t("input",{"onUpdate:modelValue":l[3]||(l[3]=r=>o(a).is_auto_closing=r),type:"checkbox",class:"ml-2 cursor-pointer",id:"is_auto_closing",name:"is_auto_closing",unchecked:""},null,512),[[f,o(a).is_auto_closing]]),n(),N,t("label",{class:"text-[1.4em] text-[#715192] font-bold mb-20",style:s({color:o(e).pot.accent_colour})}," Pot Image: ",4),D,t("div",E,[n(" Current: "),t("img",{class:"inline object-cover w-20 align-middle border-none shadow h-25",src:"/"+c.pot.cover_photo_path},null,8,T),z,F]),t("input",{type:"file",onInput:l[4]||(l[4]=r=>o(a).cover_photo_path=r.target.files[0]),name:"cover_photo_path"},null,32),n(),G,t("label",{class:"text-[1.4em] text-[#715192] font-bold mb-20",style:s({color:o(e).pot.accent_colour})}," Is the pot private?",4),W,i(t("input",{"onUpdate:modelValue":l[5]||(l[5]=r=>o(a).is_private=r),type:"checkbox",class:"ml-2 cursor-pointer",id:"is_private",name:"is_private",unchecked:""},null,512),[[f,o(a).is_private]]),n(),O,t("label",{for:"accent_colourColour",class:"text-[1.4em] text-[#715192] font-bold mb-20",style:s({color:o(e).pot.accent_colour})},"Accent Colour",4),Y,i(t("select",{"onUpdate:modelValue":l[6]||(l[6]=r=>o(a).accent_colour=r),name:"accent_colour"},R,512),[[x,o(a).accent_colour]]),t("div",$,[t("button",{type:"submit",class:"w-40 h-10 text-center text-white rounded-full cursor-pointer",style:s({backgroundColor:o(e).pot.accent_colour})}," Save Changes ",4)])],40,B)]),t("div",H,[t("div",J,[h(I,{value:o(m)(o(e).pot.amount,o(e).pot.goal)},null,8,["value"]),t("div",L,[t("p",Q,_(o(m)(o(e).pot.amount,o(e).pot.goal))+"% of total.",1)])]),t("div",X,[t("div",Z,[t("div",tt,[ot,t("h1",et,[n("You have raised "),t("span",{class:"text-pink",style:s({color:o(e).pot.accent_colour})},"\xA3"+_(o(e).pot.amount),5),lt,n("of "),t("span",{class:"text-pink",style:s({color:o(e).pot.accent_colour})},"\xA3"+_(o(e).pot.goal),5),n(" target")]),st,nt])])]),o(e).userCanCloseAndWithdraw==!0?(u(),d("div",at,[t("div",rt,[t("a",{href:"/pots/"+o(e).pot.id+"/contributions/withdraw"},[t("button",{style:s({backgroundColor:o(e).pot.accent_colour}),class:"rounded-3xl p-2.5 w-[18.6rem] font-bold text-white mt-2",type:"button"},[it,n("Withdraw from pot")],4)],8,ct)]),t("div",null,[t("a",{href:"/pots/"+o(e).pot.id+"/administrators/share/create"},[t("button",{style:s({backgroundColor:o(e).pot.accent_colour}),class:"rounded-3xl p-2.5 w-[18.6rem] font-bold text-white mt-2",type:"button"},[dt,n("Manage shared access")],4)],8,ut)]),c.pot.status!=="closed"?(u(),d("div",pt,[t("a",{href:"/pots/"+c.pot.id+"/suspend"},[t("button",{style:s({backgroundColor:o(e).pot.accent_colour}),class:"rounded-3xl p-2.5 w-[18.6rem] font-bold text-white mt-2",type:"button"},[mt,n("Suspend")],4)],8,_t)])):(u(),d("div",bt,[t("a",{href:"/pots/"+c.pot.id+"/unsuspend"},[t("button",{style:s({backgroundColor:o(e).pot.accent_colour}),class:"rounded-3xl p-2.5 w-[18.6rem] font-bold text-white mt-2",type:"button"},[ft,n("Unsuspend")],4)],8,ht)])),t("div",null,[t("a",{href:"/pots/"+c.pot.id+"/close"},[t("button",{style:s({backgroundColor:o(e).pot.accent_colour}),class:"rounded-3xl p-2.5 w-[18.6rem] font-bold text-white mt-2",type:"button"},[vt,n("Close pot")],4)],8,gt)])])):w("",!0)])])],64))}};export{It as default};
